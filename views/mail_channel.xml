<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <record id="discuss_channel_view_form_inherit" model="ir.ui.view">
            <field name="name">discuss.channel.form.view</field>
            <field name="model">discuss.channel</field>
            <field name="inherit_id" ref="mail.discuss_channel_view_form"/>
            <field name="arch" type="xml">
                <field name="description" position="before">
                    <field name="im_provider_id" readonly="1"/>
                    <field name="instagram_channel" invisible="1"/>
                    <field name="facebook_channel" invisible="1"/>
                </field>
            </field>
        </record>
        
        <record id="discuss_channel_view_form_inheritt" model="ir.ui.view">
            <field name="name">discuss.channel.form.view</field>
            <field name="model">discuss.channel</field>
            <field name="inherit_id" ref="mail.discuss_channel_view_form"/>
            <field name="arch" type="xml">
                <!-- <field name="description" position="after"> -->
                <xpath expr="//button[hasclass('o-mail-DiscussSidebarChannel')]" position="after">
                    <notebook>
                            
                            <page string="Sale Orders">
                                <button name="action_add_sale_order" string="Add Sale Order" type="object" class="btn-secondary"/>
                                <field name="sale_order_ids">
                                    <tree editable="bottom">
                                        <field name="name"/>
                                        <field name="date_order"/>
                                        <field name="state"/>
                                        <field name="amount_total"/>
                                        <field name="return_deadline"/>
                                        
                                    </tree>
                                </field>
                            </page>
                            <page string="Order Lines">
                                <button name="action_add_order_line" string="Add Order Line" type="object" class="btn-secondary"/>
                                <field name="order_line_ids" context="{'default_order_id': active_id}">
                                    <tree editable="bottom">
                                        <field name="order_id"/>
                                        <field name="product_id"/>
                                        <field name="name"/>
                                        <field name="product_uom_qty"/>
                                        <field name="price_unit"/>
                                        <field name="price_subtotal" sum="Total"/>
                                    </tree>
                                </field>
                            </page>
                            
                        </notebook>
                </xpath>
            </field>
        </record>
        <record id="discuss_channel_view_form_inheritt" model="ir.ui.view">
            <field name="name">discuss.channel.form.view</field>
            <field name="model">discuss.channel</field>
            <field name="inherit_id" ref="mail.discuss_channel_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" position="inside">
                    <button name="action_view_sale_orders" type="object" class="btn btn-link">
                        <span class="fa fa-shopping-cart"/> Sales
                    </button>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="messenger_mail_message_view_form_inherit">
            <field name="name">messenger.mail.message.view.form.inherit</field>
            <field name="model">mail.message</field>
            <field name="inherit_id" ref="mail.mail_message_view_form"/>
            <field name="arch" type="xml">
                <field name="is_internal" position="after">
                    <field name="isFbMsgs"/>
                    <field name="isInstaMsgs"/>
                </field>
            </field>
        </record>
    </data>
</odoo>
